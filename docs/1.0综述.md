# etlpy: A streaming DSL in Python

## Intro

etlpy is a function library written in Python, you can write code in even one line to do complicated web crawler, file processing and data filtering, which can be integred with Pandas, requests.

etlpy是纯Python开发的函数库，实现流式DSL(领域特定语言)，能一行内完成爬虫，文件处理和数据清洗等。能和pandas等类库充分集成。纯链式操作，代码极简。

The design philosophy comes from:
- bash pipeline in linux
- Linq in C#
- filter system in jinja2(a template engine)
- flink and blink
- Hawk by same author.

它和linux的bash pipeline,C#的Linq, jinja2的过滤器(filter)以及作者本人开发的Hawk有高度的相似性。

the following code can get html from homepage to page 10 in website cnblogs:

下面一行代码实现了获取博客园第1到10页的所有html:
```
from etlpy import *
t= task().p.create(range(1,10)).cp('p:html').format('http://www.cnblogs.com/p{}').get()

for data in t:
    print data

```

It means generate num from 1 to 10 in column p, merge column p to column html, then format string as url like below, send web requests to the certain url and get the html.

Finally, you can get all data from t using iterator.

意思是指：在p列生成从1到10的数，拷贝p列到html列，将html列合并为url,并发送web请求，最后的html正文保存在html列

etlpy supports:
- Python2 & 3
- http proxies, get/posts, really same as famous Python requests library
- regex, filter, html format and clean
- running code in parallel mode without modifying code.

etlpy的特性有：

- 同时支持python2和python3
- 内置方便的代理，http get/post请求，写法与requests库非常相似
- 内置正则解析，html转义，json转换等数据清洗功能，直接输出
- 能方便地将任务按照协程，线程，进程，和多机分布式的方式进行任务并行




    













